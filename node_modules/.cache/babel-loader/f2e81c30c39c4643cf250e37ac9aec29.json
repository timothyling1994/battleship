{"ast":null,"code":"import battleShipFactory from \"./battleShipFactory.js\";\n\nlet gameBoardFactory = shipLocations => {\n  let TOTAL_NUM_SHIPS = 5;\n  let battleShipArr = [];\n  let battleShipLocations = shipLocations;\n\n  let initBattleShips = () => {\n    for (let i = 0; i < TOTAL_NUM_SHIPS; i++) {\n      let battleShip = battleShipFactory(i);\n      battleShipArr.push(battleShip);\n    }\n  }; //need to prevent passing in same coords, else it will still increment counter; \n\n\n  let receiveAttack = inputCoord => {\n    let isShipHit = false;\n    let isShipSunk = false;\n\n    for (let i = 0; i < TOTAL_NUM_SHIPS; i++) {\n      let length = battleShipLocations[i].length;\n\n      for (let j = 0; j < length; j++) {\n        if (battleShipLocations[i][j] == inputCoord) {\n          battleShipArr[i].hit();\n          isShipHit = true;\n        }\n      }\n    }\n\n    return isShipHit;\n  };\n\n  let checkIfAllSunk = () => {\n    const sunkShips = battleShipArr.filter(ship => ship.checkIfSunk());\n\n    if (sunkShips.length == TOTAL_NUM_SHIPS) {\n      return true;\n    }\n\n    return false;\n  };\n\n  return {\n    initBattleShips,\n    receiveAttack,\n    checkIfAllSunk\n  };\n};\n\nexport default gameBoardFactory;","map":{"version":3,"sources":["/Users/timothyling/Desktop/OdinProject/battleship/battleship/src/gameBoardFactory.js"],"names":["battleShipFactory","gameBoardFactory","shipLocations","TOTAL_NUM_SHIPS","battleShipArr","battleShipLocations","initBattleShips","i","battleShip","push","receiveAttack","inputCoord","isShipHit","isShipSunk","length","j","hit","checkIfAllSunk","sunkShips","filter","ship","checkIfSunk"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,wBAA9B;;AAEA,IAAIC,gBAAgB,GAAIC,aAAD,IAAmB;AAEzC,MAAIC,eAAe,GAAG,CAAtB;AACA,MAAIC,aAAa,GAAG,EAApB;AACA,MAAIC,mBAAmB,GAAGH,aAA1B;;AAEA,MAAII,eAAe,GAAG,MAAM;AAC3B,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAaA,CAAC,GAACJ,eAAf,EAA+BI,CAAC,EAAhC,EACA;AACC,UAAIC,UAAU,GAAGR,iBAAiB,CAACO,CAAD,CAAlC;AACAH,MAAAA,aAAa,CAACK,IAAd,CAAmBD,UAAnB;AACA;AACD,GAND,CANyC,CAazC;;;AACA,MAAIE,aAAa,GAAIC,UAAD,IAAgB;AAEnC,QAAIC,SAAS,GAAG,KAAhB;AACA,QAAIC,UAAU,GAAG,KAAjB;;AAEA,SAAI,IAAIN,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACJ,eAAd,EAA8BI,CAAC,EAA/B,EACA;AACC,UAAIO,MAAM,GAAGT,mBAAmB,CAACE,CAAD,CAAnB,CAAuBO,MAApC;;AAEA,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,MAAd,EAAqBC,CAAC,EAAtB,EACA;AACC,YAAGV,mBAAmB,CAACE,CAAD,CAAnB,CAAuBQ,CAAvB,KAA2BJ,UAA9B,EACA;AACCP,UAAAA,aAAa,CAACG,CAAD,CAAb,CAAiBS,GAAjB;AACAJ,UAAAA,SAAS,GAAG,IAAZ;AACA;AACD;AACD;;AAED,WAAOA,SAAP;AACA,GApBD;;AAsBA,MAAIK,cAAc,GAAG,MAAM;AAE1B,UAAMC,SAAS,GAAGd,aAAa,CAACe,MAAd,CAAqBC,IAAI,IAAEA,IAAI,CAACC,WAAL,EAA3B,CAAlB;;AACA,QAAGH,SAAS,CAACJ,MAAV,IAAoBX,eAAvB,EACA;AACC,aAAO,IAAP;AACA;;AAED,WAAO,KAAP;AACA,GATD;;AAWA,SAAO;AAACG,IAAAA,eAAD;AAAiBI,IAAAA,aAAjB;AAA+BO,IAAAA;AAA/B,GAAP;AAEA,CAjDD;;AAoDA,eAAehB,gBAAf","sourcesContent":["import battleShipFactory from \"./battleShipFactory.js\";\n\nlet gameBoardFactory = (shipLocations) => {\n\n\tlet TOTAL_NUM_SHIPS = 5;\n\tlet battleShipArr = []; \n\tlet battleShipLocations = shipLocations;\n\n\tlet initBattleShips = () => {\n\t\tfor (let i=0;i<TOTAL_NUM_SHIPS;i++)\n\t\t{\n\t\t\tlet battleShip = battleShipFactory(i);\n\t\t\tbattleShipArr.push(battleShip);\n\t\t}\n\t};\n\t//need to prevent passing in same coords, else it will still increment counter; \n\tlet receiveAttack = (inputCoord) => {\n\n\t\tlet isShipHit = false;\n\t\tlet isShipSunk = false;\n\n\t\tfor(let i=0;i<TOTAL_NUM_SHIPS;i++)\n\t\t{\n\t\t\tlet length = battleShipLocations[i].length;\n\n\t\t\tfor(let j=0;j<length;j++)\n\t\t\t{\n\t\t\t\tif(battleShipLocations[i][j]==inputCoord)\n\t\t\t\t{\n\t\t\t\t\tbattleShipArr[i].hit();\n\t\t\t\t\tisShipHit = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn isShipHit;\n\t};\n\n\tlet checkIfAllSunk = () => {\n\n\t\tconst sunkShips = battleShipArr.filter(ship=>ship.checkIfSunk());\n\t\tif(sunkShips.length == TOTAL_NUM_SHIPS)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\treturn {initBattleShips,receiveAttack,checkIfAllSunk};\n\n};\n\n\nexport default gameBoardFactory;"]},"metadata":{},"sourceType":"module"}