(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),s=n(4),c=n.n(s),r=(n(9),n(2)),o=(n(10),n(0));var l=function(e){return Object(o.jsxs)("div",{className:"start-game",children:[Object(o.jsx)("div",{className:"enter-name-label",children:"ENTER PLAYER NAME"}),Object(o.jsx)("div",{className:"name-form",children:Object(o.jsx)("input",{className:"name-input",placeholder:"COMBATANT NAME"})}),Object(o.jsx)("div",{className:"start-game-btn-row",children:Object(o.jsx)("div",{className:"start-game-btn",onClick:function(){document.querySelector(".start-game").classList.add("fadeOut"),setTimeout((function(){e.addName(document.querySelector(".name-input").value),e.toggleStartPage(!1),e.toggleArrangeBoard(!0)}),2e3)},children:"START GAME "})})]})};var d=function(e){var t=[],n=Object(a.useState)([]),i=Object(r.a)(n,2),s=i[0],c=(i[1],Object(a.useState)("x-axis")),l=Object(r.a)(c,2),d=l[0],u=l[1],m=Object(a.useState)(5),g=Object(r.a)(m,2),f=g[0],h=g[1],j=function(e){var t=parseInt(e.target.id),n=!0,a=Math.floor(t/10);if(t+f>10*(a+1)&&"x-axis"===d||t+10*f>100+t%10&&"y-axis"===d)n=!1;else for(var i=0;i<f;i++){if("x-axis"===d)document.getElementById((t+i).toString()).classList.contains("clicked")&&(n=!1);else document.getElementById((t+10*i).toString()).classList.contains("clicked")&&(n=!1)}if(n){if("x-axis"===d){for(var c=[],r=0;r<f;r++){var o=document.getElementById((t+r).toString());o.classList.add("clicked"),o.classList.add("highlight"),c.push([t+r])}s.unshift(c)}else{for(var l=[],u=0;u<f;u++){var m=document.getElementById((t+10*u).toString());m.classList.add("clicked"),m.classList.add("highlight"),l.push([t+10*u])}s.unshift(l)}x()}},v=function(e){var t=parseInt(e.target.id),n=!0,a=Math.floor(t/10);if(t+f>10*(a+1)&&"x-axis"===d||t+10*f>100+t%10&&"y-axis"===d)n=!1;else for(var i=0;i<f;i++){if("x-axis"===d)document.getElementById((t+i).toString()).classList.contains("clicked")&&(n=!1);else document.getElementById((t+10*i).toString()).classList.contains("clicked")&&(n=!1)}if(n)if("x-axis"===d)for(var s=0;s<f;s++){document.getElementById((t+s).toString()).classList.add("highlight")}else for(var c=0;c<f;c++){document.getElementById((t+10*c).toString()).classList.add("highlight")}},b=function(e){var t=parseInt(e.target.id),n=!0,a=Math.floor(t/10);if(t+f>10*(a+1)&&"x-axis"===d||t+10*f>100+t%10&&"y-axis"===d)n=!1;else for(var i=0;i<f;i++){if("x-axis"===d)document.getElementById((t+i).toString()).classList.contains("clicked")&&(n=!1);else document.getElementById((t+10*i).toString()).classList.contains("clicked")&&(n=!1)}if(n)if("x-axis"===d)for(var s=0;s<f;s++){document.getElementById((t+s).toString()).classList.remove("highlight")}else for(var c=0;c<f;c++){document.getElementById((t+10*c).toString()).classList.remove("highlight")}},x=function(){(console.log(f),f>1)?h(f-1):(h(f-1),e.storeShipLocations(s),document.querySelector(".arrange-board").classList.add("fadeOut"),setTimeout((function(){e.toggleArrangeBoard(!1),e.toggleGamePage(!0)}),2e3))};return function(){for(var e=0;e<100;e++)t.push(Object(o.jsx)("div",{className:"grid-element",id:e,onClick:j,onMouseEnter:v,onMouseLeave:b}))}(),Object(o.jsxs)("div",{className:"arrange-board",children:[Object(o.jsxs)("div",{className:"place-carriers-label",children:[e.name,", PLACE YOUR CARRIERS"]}),Object(o.jsx)("div",{className:"change-orientation",onClick:function(){u("x-axis"===d?"y-axis":"x-axis")},children:d.toUpperCase()}),Object(o.jsx)("div",{className:"arrange-gameboard-container",children:Object(o.jsx)("div",{className:"gameboard",children:t.map((function(e){return e}))})})]})},u=function(e){var t=e+1,n=0,a=!1,i=[];return{isSunk:a,hit:function(e){return n+=1,i.push(e),n},checkIfSunk:function(){return n==t&&(a=!0),a}}},m=function(e){var t=[],n=e;return{initBattleShips:function(){for(var e=0;e<5;e++){var n=u(e);t.push(n)}},receiveAttack:function(e){for(var a=!1,i=0;i<5;i++)for(var s=n[i].length,c=0;c<s;c++)n[i][c]==e&&(t[i].hit(),a=!0);return a},checkIfAllSunk:function(){return 5==t.filter((function(e){return e.checkIfSunk()})).length}}},g=function(e,t){var n=e,a=m(t);a.initBattleShips();return{myTurn:n,myGameBoard:a,makeMove:function(e,t){return{hitShip:t.receiveAttack(e),endOfGame:t.checkIfAllSunk()}}}},f=function(){var e,t;return{gameInit:function(n,a){e=g(!0,n),t=g(!1,a)},turnController:function(n){if(e.myTurn){var a=e.makeMove(n,t.myGameBoard);return e.myTurn=!1,t.myTurn=!0,a}var i=t.makeMove(n,e.myGameBoard);return t.myTurn=!1,e.myTurn=!0,i},getComputersMove:function(){for(var e,t=!1;!t;){e=Math.floor(100*Math.random()),console.log("selectedIndex:"+e),document.getElementById(e).classList.contains("clicked")?console.log("repeated"):t=!0}return e}}};var h=function(e){var t,n=["awaiting coordinates...","firing shot...it's a miss!","firing shot...it's a hit!","you just sank an enemy ship!"],i=[e.name,"computer"],s=Object(a.useState)(i[0]),c=Object(r.a)(s,2),l=c[0],d=(c[1],Object(a.useState)(n[0])),u=Object(r.a)(d,2),m=u[0],g=u[1],h=[],j=[],v=e.storeShipLocs.flat(2).sort((function(e,t){return e-t})),b=[[0],[1,2],[3,4,5],[10,11,12,13],[14,15,16,17,18]],x=function(e){if(!e.target.classList.contains("clicked")){e.target.classList.add("clicked");var a=e.target.id.indexOf("-"),i=e.target.id.substring(a+1),s=t.turnController(parseInt(i));s.hitShip?g(n[2]):g(n[1]),setTimeout((function(){k(e.target.id,s.hitShip),O(),g(n[0])}),1e3)}},O=function(){var e=t.getComputersMove(),n=t.turnController(e);document.getElementById(e).classList.add("clicked"),k(e,n.hitShip)},p=function(e){var t=e.target.id,n=document.getElementById(t);n.classList.contains("clicked")||n.classList.add("highlight")},S=function(e){var t=e.target.id,n=document.getElementById(t);n.classList.contains("clicked")||n.classList.remove("highlight")},k=function(e,t){var n=document.getElementById(e);n.style.backgroundColor=t?"red":"black"};return(t=f()).gameInit(e.storeShipLocs,b),function(){for(var e=0;e<100;e++)j.push(Object(o.jsx)("div",{className:"grid-element",onClick:x,onMouseEnter:p,onMouseLeave:S,id:"enemy-"+e})),v.includes(e)?h.push(Object(o.jsx)("div",{className:"grid-element highlight",id:e})):h.push(Object(o.jsx)("div",{className:"grid-element",id:e}))}(),Object(o.jsxs)("div",{className:"game-page",children:[Object(o.jsxs)("div",{className:"game-status",children:[l,", ",m]}),Object(o.jsxs)("div",{className:"gameboards-container",children:[Object(o.jsx)("div",{className:"main-gameboard",children:h.map((function(e){return e}))}),Object(o.jsx)("div",{className:"main-gameboard",children:j.map((function(e){return e}))})]})]})};var j=function(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),n=t[0],i=t[1],s=Object(a.useState)(),c=Object(r.a)(s,2),u=c[0],m=c[1],g=Object(a.useState)(!1),f=Object(r.a)(g,2),j=f[0],v=f[1],b=Object(a.useState)(!1),x=Object(r.a)(b,2),O=x[0],p=x[1],S=Object(a.useState)([]),k=Object(r.a)(S,2),y=k[0],L=k[1],I=function(e){v(e)};return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("div",{className:"title-row",children:Object(o.jsx)("div",{className:"title",onClick:function(){return window.location.reload(),!1},children:"BATTLESHIP"})}),n?Object(o.jsx)(l,{toggleStartPage:function(e){i(e)},toggleArrangeBoard:I,addName:function(e){m(e)}}):null,j?Object(o.jsx)(d,{name:u,toggleArrangeBoard:I,toggleGamePage:function(e){p(e)},storeShipLocations:function(e){L(e)}}):null,O?Object(o.jsx)(h,{name:u,storeShipLocs:y}):null]})};c.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(j,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.d22782ee.chunk.js.map